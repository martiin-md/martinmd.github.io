const translations = {
  es: {
    // Menú y encabezado
    "nav-home": "Inicio",
    "nav-about": "Sobre mí",
    "nav-projects": "Proyectos",
    "nav-contact": "Contacto",
    "language-button": "Idioma",

    //Seccion del subMenu
    "menu-contactar": "Contactar",
    "menu-download-cv": "Descargar CV",

    job: "Programador Mobile | Técnico de Redes | Diseñador UI/UX | Freelancer",
    entrepreneur: "Joven Emprendedor",

    // Sección Sobre mí
    "about-title": "Sobre mí",
    "about-description":
      "Soy un Programador y experto en Trading donde además tengo pasión por la tecnología y el desarrollo de aplicaciones móviles. Con experiencia en diversas plataformas como Android (Java y Kotlin), y con conocimientos en desarrollo web, diseño UI/UX y redes. Siempre en búsqueda de nuevas oportunidades y proyectos interesantes.",
    "skills-title": "Habilidades",
    "skill-1": "Desarrollo de aplicaciones móviles (Android, Java, Kotlin)",
    "skill-2": "Diseño UI/UX",
    "skill-3": "Desarrollo de backend (Node.js, Firebase)",
    "skill-4": "Gestión de proyectos ágiles",
    "skill-5": "Trabajo en equipo y colaboración remota",

    // Sección Proyectos
    "projects-title": "Proyectos Destacados",
    "toggle-projects": "▼ Ver más proyectos",
    "project1-title": "Aplicación de Gestión de Música",
    "project1-description":
      "Desarrollada con Kotlin y Java. Permite gestionar listas y canciones desde un servidor con Firebase. En desarrollo.",
    "project2-title": "Juego Móvil Romper Ladrillos",
    "project2-description":
      "Creado para Android con Godot 4.3. Versión clásica del arcade 'Breakout'. Controla una paleta y destruye bloques.",
    "project3-title": "IAchatBotApp",
    "project3-description":
      "Es una Aplicación donde hablas con la Inteligencia Artificial y te responde a tus necesidades. Desarrollada en AppInventor.mit.edu.",
    "project4-title": "IAchatBotApp",
    "project4-description":
      "Es una Aplicación donde hablas con la Inteligencia Artificial y te responde a tus necesidades. Desarrollada en AppInventor.mit.edu.",
    "project5-title": "Controlador de Música",
    "project5-description":
      "Una Aplicación donde te permite basarte en el control de la música (Te sirve de ayuda para futuros proyectos del mundo de la música)",

    // Sección Lenguajes de Programación
    "languages-title": "Lenguajes de Programación",
    "languages-description":
      "A lo largo de mi carrera, he trabajado con varios lenguajes de programación, cada uno con su propósito y aplicación. Algunos de los lenguajes que más utilizo son:",

    // Sección Contacto
    "contact-title": "¡Pongámonos en Contacto!",
    "contact-description":
      "Si tienes alguna consulta, duda o simplemente deseas charlar sobre futuros proyectos, no dudes en enviarme un mensaje. ¡Estoy disponible para nuevas oportunidades!",
    "contact-name": "Nombre",
    "contact-email": "Correo Electrónico",
    "contact-message": "Mensaje",
    "contact-send": "Enviar",
    "contact-subtitle":
      "También puedes contactarme a través de mis redes sociales:",
    "menu-home": "Inicio",
    "menu-projects": "Proyectos",
    "menu-download-cv": "Descargar CV",
    "menu-contact": "Contacto",

    // Pie de página
    "footer-connect-title": "Conéctate conmigo",
    "footer-connect-description":
      "¡Me encantaría saber de ti! Conéctate conmigo a través de mis redes sociales.",
    "footer-note":
      "© 2025 Martin Miroslavov Dimitrov. Todos los derechos reservados.",
  },
  en: {
    // Menú y encabezado
    "nav-home": "Home",
    "nav-about": "About Me",
    "nav-projects": "Projects",
    "nav-contact": "Contact",
    "language-button": "Language",
    job: "Mobile Developer | Network Technician | UI/UX Designer | Freelancer",
    entrepreneur: "Young Entrepreneur",
    //Seccion del subMenu
    "menu-contactar": "Contact",
    "menu-download-cv": "Download CV",

    // Sección Sobre mí
    "about-title": "About Me",
    "about-description":
      "I am a Programmer and an expert Trader passionate about technology and mobile app development. With experience in various platforms such as Android (Java and Kotlin), and with knowledge in web development, UI/UX design, and networking. Always looking for new opportunities and interesting projects.",
    "skills-title": "Skills",
    "skill-1": "Mobile App Development (Android, Java, Kotlin)",
    "skill-2": "UI/UX Design",
    "skill-3": "Backend Development (Node.js, Firebase)",
    "skill-4": "Agile Project Management",
    "skill-5": "Teamwork and Remote Collaboration",

    // Sección Proyectos
    "projects-title": "Featured Projects",
    "toggle-projects": "▼ See more projects",
    "project1-title": "Music Management App",
    "project1-description":
      "Developed with Kotlin and Java. Allows managing playlists and songs from a Firebase server. In development.",
    "project2-title": "Breakout Mobile Game",
    "project2-description":
      "Created for Android with Godot 4.3. Classic arcade 'Breakout' style. Control a paddle and break blocks.",
    "project3-title": "IAchatBotApp",
    "project3-description":
      "An app where you chat with Artificial Intelligence that responds to your needs. Developed at AppInventor.mit.edu.",
    "project4-title": "Concessionaire Database",
    "project4-description":
      "A database is managed about a Concessionaire made in Java with Maven.",
    "project5-title": "Music Controller",
    "project5-description":
      "An application that allows you to base yourself on the control of music (It helps you for future projects in the world of music)",

    // Sección Lenguajes de Programación
    "languages-title": "Programming Languages",
    "languages-description":
      "Throughout my career, I have worked with several programming languages, each with its purpose and application. Some of the languages I use the most are:",

    // Sección Contacto
    "contact-title": "Let's Get In Touch!",
    "contact-description":
      "If you have any questions, doubts, or just want to chat about future projects, feel free to send me a message. I'm available for new opportunities!",
    "contact-name": "Name",
    "contact-email": "Email",
    "contact-message": "Message",
    "contact-send": "Send",
    "contact-subtitle": "You can also reach out to me through my social media:",
    "menu-home": "Home",
    "menu-projects": "Projects",
    "menu-download-cv": "Download CV",
    "menu-contact": "Contact",

    // Footer Section
    "footer-connect-title": "Connect with Me",
    "footer-connect-description":
      "I would love to hear from you! Connect with me through my social media.",
    "footer-note": "© 2025 Martin Miroslavov Dimitrov. All rights reserved.",
  },
};

document.addEventListener("DOMContentLoaded", function () {
  const elements = document.querySelectorAll(".scroll-effect");

  function checkScroll() {
    elements.forEach((el) => {
      const position = el.getBoundingClientRect().top;
      if (position < window.innerHeight - 100) {
        el.classList.add("visible");
      }
    });
  }

  window.addEventListener("scroll", checkScroll);
  checkScroll();
});

// Función para cambiar el idioma
function changeLanguage(lang) {
  if (!translations[lang]) {
    console.error(`Idioma "${lang}" no está definido en translations`);
    return;
  }

  for (const id in translations[lang]) {
    const element = document.getElementById(id);
    if (element) {
      element.innerText = translations[lang][id];
    } else {
      console.warn(`No se encontró un elemento con id="${id}" en el DOM.`);
    }
  }
}

// Función para cambiar el idioma y guardarlo en localStorage
function changeLanguage(lang) {
  if (!translations[lang]) {
    console.error(`Idioma "${lang}" no está definido en translations`);
    return;
  }

  // Guardar el idioma en localStorage
  localStorage.setItem("selectedLanguage", lang);

  // Cambiar el texto de todos los elementos traducibles
  for (const id in translations[lang]) {
    const element = document.getElementById(id);
    if (element) {
      element.innerText = translations[lang][id];
    }
  }
}

// Aplicar el idioma guardado al cargar la página
document.addEventListener("DOMContentLoaded", function () {
  const savedLanguage = localStorage.getItem("selectedLanguage") || "es"; // Por defecto español
  changeLanguage(savedLanguage);
});

// Lógica para mostrar/ocultar más proyectos
const toggleBtn = document.getElementById("toggle-projects");
const moreProjects = document.getElementById("more-projects");

if (toggleBtn && moreProjects) {
  toggleBtn.addEventListener("click", () => {
    moreProjects.classList.toggle("hidden");
    if (moreProjects.classList.contains("hidden")) {
      // Texto al ocultar proyectos (usa el idioma por defecto o actual)
      toggleBtn.innerText = translations.es["toggle-projects"];
    } else {
      toggleBtn.innerText = "▲ Ver menos proyectos";
    }
  });
}

// Función para detectar el scroll y aplicar animación
document.addEventListener("DOMContentLoaded", function () {
  const elements = document.querySelectorAll(
    ".about-content, .project-list, .languages-content"
  );

  // Función para ver si el elemento está visible
  function handleScroll() {
    elements.forEach(function (element) {
      if (isElementInViewport(element)) {
        element.classList.add("show");
      }
    });
  }

  // Función para comprobar si el elemento está en la vista
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return rect.top <= window.innerHeight && rect.bottom >= 0;
  }

  // Llama a la función al cargar la página y en cada scroll
  window.addEventListener("scroll", handleScroll);
  handleScroll(); // Para que se active al cargar
});

document.addEventListener("DOMContentLoaded", function () {
  const elements = document.querySelectorAll(
    ".about-content, .project-list, .languages-content"
  );

  function handleScroll() {
    elements.forEach(function (element) {
      if (isElementInViewport(element)) {
        element.classList.add("show");
      }
    });
  }

  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return rect.top <= window.innerHeight && rect.bottom >= 0;
  }

  window.addEventListener("scroll", handleScroll);
  handleScroll(); // Para que se active al cargar
});
